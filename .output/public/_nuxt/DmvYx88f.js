import{_ as R}from"./CohZIaU4.js";import{_ as S}from"./CFP5c3tL.js";import{u as A}from"./BqACKYKw.js";import{r as $}from"./CXTV7wvo.js";import{s as B}from"./C7Qv54Es.js";import{_ as I}from"./B0PwvC0I.js";import{_ as P}from"./DlAUqK2U.js";import{r as g,P as L,o as x,c as T,Q as N,b as n,d as r,k as D,e,j as d,u as o,l as y,O as w,S as j,T as U,L as V,m as Y,q as F}from"./BLqpxtBP.js";import"./CigPq3WD.js";import"./N-IBRvSD.js";import"./kCORkx7s.js";import"./rx5cLQAs.js";const t=_=>(Y("data-v-621247b3"),_=_(),F(),_),q={class:"body"},z={class:"container"},J=t(()=>e("header",null,[e("div",{class:"uht-mark"},[e("img",{src:I,alt:"Referral Logo",onerror:"this.src='https://dummyimage.com/96x96/6a44ff/ffffff&text=UHT'"}),e("div",null,[e("div",{class:"brand-title"},"Referral Program"),e("span",{class:"badge"},[e("small",null,"Invite friends • Earn Health Points")])])])],-1)),O={class:"hero"},Q={class:"hero-card"},G=t(()=>e("h1",null,"Invite & Earn",-1)),K=t(()=>e("p",{class:"lead"},[y(" Share your referral link with friends. Every friend that joins using your link earns you "),e("strong",null,"bonus Health Points"),y("! ")],-1)),W=t(()=>e("div",{class:"keyline"},null,-1)),X={class:"stats"},Z={class:"stat"},ee=t(()=>e("div",{class:"label"},"Your Points",-1)),se={class:"num"},te={class:"stat"},oe=t(()=>e("div",{class:"label"},"Referrals",-1)),ne={class:"num"},re={class:"mt-6"},ae=t(()=>e("p",{class:"mb-2 font-semibold"},"Your referral link:",-1)),le={class:"flex gap-2 items-center"},ie=["value"],de={key:0,class:"mt-10"},ce=t(()=>e("h2",{class:"text-xl font-bold mb-1"},"Your Referrals",-1)),_e={class:"mb-2"},ue={key:0,class:"mb-4"},me=t(()=>e("span",{class:"text-red-300 font-bold text-[20px]",id:"referral_claim_bid_timer"},null,-1)),he={class:"referral-list"},pe={class:"referral-row header"},fe=t(()=>e("span",null,"#",-1)),ve=t(()=>e("span",null,"Address",-1)),be={key:0},ge={class:"truncate max-w-[150px]"},xe={key:0},we={key:0,class:"px-4 py-2 rounded-md text-white font-semibold bg-green-600"},ye={key:1,class:"px-4 py-2 rounded-md text-white font-semibold bg-red-700"},ke=t(()=>e("div",{class:"jar-wrap"},[e("div",{class:"jar"},[e("img",{src:I,alt:"Referral Jar"})])],-1)),Te=t(()=>e("footer",null," © 2025 UHT • Universal Health Token — Invite friends, earn rewards. ",-1)),Ie={__name:"index",setup(_){const a=A(),u=g(!1),k=g(!0),m=g("");let h=null;const{referralPoints:E}=$();L(()=>a.value.walletAddress,()=>{m.value=`${window.location.origin}/signup/${a.value.walletAddress}`}),x(()=>{m.value=`${window.location.origin}/signup/${a.value.walletAddress}`});const v=T(()=>{var s;return(((s=a.value)==null?void 0:s.referrals)||[]).slice().sort((c,l)=>(l.points||0)-(c.points||0))});x(()=>{let s=new window.Date;s.setDate(12),s.setMonth(8),s.setFullYear(2025),s.setHours(1),s.setMinutes(59),s.setSeconds(59),s=s.getTime(),h=B(function(){let c=new window.Date().getTime(),l=s-c,b=Math.floor(l%(1e3*60*60*24)/(1e3*60*60)),p=Math.floor(l%(1e3*60*60)/(1e3*60)),f=Math.floor(l%(1e3*60)/1e3);const i=document.getElementById("referral_claim_bid_timer");i&&(i.innerHTML=b+"h "+p+"m "+f+"s "),l<0&&(clearInterval(h),k.value=!1)},1e3)}),N(()=>{clearInterval(h),h=null}),x(async()=>{});const M=T(()=>a.value.referrals.filter(s=>s.hasClaimedPoints).length||0);function C(){navigator.clipboard.writeText(m.value),u.value=!0,setTimeout(()=>{u.value=!1},2e3)}return(s,c)=>{var p,f;const l=R,b=S;return n(),r("div",q,[D(l,{class:"md:mx-[10%] mx-[2%] sticky top-[10px] z-50"}),e("div",z,[J,e("section",O,[e("div",Q,[G,K,W,e("div",X,[e("div",Z,[ee,e("div",se,d(((p=o(a))==null?void 0:p.points)+o(E)||0),1)]),e("div",te,[oe,e("div",ne,d(((f=o(a))==null?void 0:f.referrals.length)||0),1)])]),e("div",re,[ae,e("div",le,[e("input",{type:"text",class:"flex-1 bg-white/20 border border-white/30 rounded-lg px-3 py-2 text-sm text-white backdrop-blur-sm",value:o(m),readonly:""},null,8,ie),e("button",{class:"btn btn-primary",onClick:C},d(o(u)?"Copied":"Copy"),1)])]),o(v).length?(n(),r("section",de,[ce,e("p",_e,"# of Eligible referrals to mint nft ("+d(o(M))+"/"+d(o(v).length)+")",1),o(k)?(n(),r("p",ue,[y("Time expires in "),me])):w("",!0),e("div",he,[e("div",pe,[fe,ve,(n(),r("span",be,"Eligiblity"))]),(n(!0),r(j,null,U(o(v),(i,H)=>(n(),r("div",{key:i.address,class:"referral-row"},[e("span",null,d(H+1),1),e("span",ge,d(i.address),1),(n(),r("div",xe,[i!=null&&i.hasClaimedPoints?(n(),r("p",we," ✅ Eligible ")):(n(),r("p",ye," ⚠️ Not Eligible "))]))]))),128))])])):w("",!0)]),ke]),Te]),o(a).email?w("",!0):(n(),V(b,{key:0,onClose:c[0]||(c[0]=()=>s.toggleProfileModal(!1))}))])}}},Pe=P(Ie,[["__scopeId","data-v-621247b3"]]),De={};function Ee(_,a){const u=Pe;return n(),r("div",null,[D(u)])}const Ve=P(De,[["render",Ee]]);export{Ve as default};
