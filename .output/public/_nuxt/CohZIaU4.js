import{u as x,e as A,h,s as S,n as $,o as I,q as N,l as L,r as c,t as M}from"./BqACKYKw.js";import{r as p,o as B,P as E,c as P,b as d,d as r,e as l,u as o,I as i,O as m,m as W,q as Q}from"./BLqpxtBP.js";import{g as G,_ as R,a as U}from"./CigPq3WD.js";import{g as q,a as V,b as j}from"./N-IBRvSD.js";import{_ as H}from"./DlAUqK2U.js";const O=g=>(W("data-v-0010dd5f"),g=g(),Q(),g),z={id:"container",class:"flex justify-between items-center bg-[#F1F1F1] px-[20px] py-4 rounded-[50px]"},J={class:"!inline-block lg:!hidden"},K=O(()=>l("img",{src:U,class:"h-6 w-6"},null,-1)),X=[K],Y={key:0,class:"dropdown-container"},Z={class:"dropdown-content shadow-2xl h-screen flex-col w-full"},_={class:"flex-col text-black w-full mt-16 cursor-pointer"},ee={class:"mt-4"},ae={class:"lg:!flex items-center !hidden cursor-pointer"},ne={class:"ml-3"},oe={__name:"index",emits:["link-clicked"],setup(g,{emit:te}){const C=p(!1),n=x(),s=p(""),u=p(null),v=p(!1),D=p(!1);B(()=>{v.value=A(),s.value=h(),F()});function F(){var e;(e=S())==null||e.on("STATE_CHANGED",a=>{v.value=A(),s.value=h()})}E(()=>s.value,async()=>{if(!s.value)return;n.value.isWalletConnected=v.value,n.value.walletAddress=s.value,D.value=!0,u.value=await q(s.value);const e=await $(s.value),a=await I(s.value);if(e||await N(s.value),n.value.uhtbalance=await G(),n.value.points=(e==null?void 0:e.points)||0,n.value.allocation=(e==null?void 0:e.allocation)||0,n.value.isAirdropEligible=(e==null?void 0:e.isAirdropEligible)||!1,n.value.hasClaimedPoints=(e==null?void 0:e.hasClaimedPoints)||!1,n.value.hasClaimedNFTMintBonus=(e==null?void 0:e.hasClaimedNFTMintBonus)||!1,n.value.hasMintedNFT=(e==null?void 0:e.hasMintedNFT)||!1,n.value.nominationCountSlot=(e==null?void 0:e.nominationCountSlot)||0,n.value.lastAnsweredQuestionID=(e==null?void 0:e.lastAnsweredQuestionID)||null,n.value.addressSignature=u.value||null,n.value.lastAnswerID=(e==null?void 0:e.lastAnswerID)||null,n.value.lastDailyClaimAt=(e==null?void 0:e.lastDailyClaimAt)||null,n.value.lastDailyClaimAt||(await L({lastDailyClaimAt:window.Date.now()}),n.value.lastDailyClaimAt=window.Date.now()),n.value.email=(e==null?void 0:e.email)||"",n.value.username=(e==null?void 0:e.nickname)||"",n.value.referrals=Array.from(new Map(a.map(t=>[t.address.toLowerCase(),t])).values())||[],!v.value){c();return}}),P(()=>{var e,a,t,w,T,y;return((a=(e=u.value)==null?void 0:e.signatures)==null?void 0:a.length)&&((w=(t=u.value)==null?void 0:t.signatures)==null?void 0:w.map(b=>b.token_address.toLowerCase()).includes(V.toLowerCase()))&&((y=(T=u.value)==null?void 0:T.signatures)==null?void 0:y.map(b=>b.spender.toLowerCase()).includes(j.toLowerCase()))});function f(){c()}function k(){M().then(()=>{n.value.walletAddress="",n.value.isWalletConnected=!1,n.value.hasClaimedPoints=!1,n.value.points=0,n.value.lastAnsweredQuestionID=null,n.value.lastAnswerID=null,s.value="",v.value=!1,i("/")})}return(e,a)=>(d(),r("div",z,[l("div",{class:"flex cursor-pointer",onClick:a[1]||(a[1]=t=>("navigateTo"in e?e.navigateTo:o(i))("/"))},[l("img",{src:R,onClick:a[0]||(a[0]=t=>("navigateTo"in e?e.navigateTo:o(i))("/")),class:"h-10 cursor-pointer"})]),l("div",J,[l("div",{onClick:a[2]||(a[2]=t=>C.value=!o(C)),class:"cursor-pointer py-1 px-2 border-gray-400 border-[1px] rounded-[5px]"},X)]),o(C)?(d(),r("div",Y,[l("div",Z,[l("div",{class:"cancel-btn text-blue-500",onClick:a[3]||(a[3]=t=>C.value=!1)},"âœ–"),l("div",_,[l("p",{onClick:a[4]||(a[4]=t=>("navigateTo"in e?e.navigateTo:o(i))("/dashboard"))},"Quest"),l("p",{class:"mt-5",onClick:a[5]||(a[5]=t=>("navigateTo"in e?e.navigateTo:o(i))("/dashboard/referral"))},"Referral"),l("p",{class:"mt-5",onClick:a[6]||(a[6]=t=>("navigateTo"in e?e.navigateTo:o(i))("/dashboard/leaderboard"))},"Leaderboard"),l("p",{class:"mt-5",onClick:a[7]||(a[7]=t=>("navigateTo"in e?e.navigateTo:o(i))("/dashboard/governance"))},"Governance"),o(n).nominationCountSlot?(d(),r("p",{key:0,class:"mt-5",onClick:a[8]||(a[8]=t=>("navigateTo"in e?e.navigateTo:o(i))("/dashboard/dailyclaim"))},"Daily Claim")):m("",!0),l("p",{class:"mt-5",onClick:a[9]||(a[9]=t=>("navigateTo"in e?e.navigateTo:o(i))("/dashboard/mint"))},"NFT Mint"),o(n).nominationCountSlot?(d(),r("p",{key:1,class:"mt-5",onClick:a[10]||(a[10]=t=>("navigateTo"in e?e.navigateTo:o(i))("/dashboard/nominate"))},"Nomintation")):m("",!0),l("div",ee,[o(v)?(d(),r("button",{key:0,class:"rounded-full px-[30px] py-[10px] text-[18px] font-semibold text-[#7C58F2] hover:text-white bg-white hover:bg-[#7C58F2] border-[#7C58F2] border-[1px]",onClick:a[11]||(a[11]=()=>k())},"Logout")):(d(),r("button",{key:1,class:"rounded-full px-[30px] py-[10px] text-[18px] font-semibold text-[#7C58F2] hover:text-white bg-white hover:bg-[#7C58F2] border-[#7C58F2] border-[1px]",onClick:a[12]||(a[12]=()=>f())},"Dashboard"))])])])])):m("",!0),l("div",ae,[l("p",{class:"link",onClick:a[13]||(a[13]=t=>("navigateTo"in e?e.navigateTo:o(i))("/dashboard"))},"Quest"),l("p",{class:"link",onClick:a[14]||(a[14]=t=>("navigateTo"in e?e.navigateTo:o(i))("/dashboard/referral"))},"Referral"),l("p",{class:"link",onClick:a[15]||(a[15]=t=>("navigateTo"in e?e.navigateTo:o(i))("/dashboard/governance"))},"Governance"),l("p",{class:"link",onClick:a[16]||(a[16]=t=>("navigateTo"in e?e.navigateTo:o(i))("/dashboard/leaderboard"))},"Leaderboard"),o(n).nominationCountSlot?(d(),r("p",{key:0,class:"link",onClick:a[17]||(a[17]=t=>("navigateTo"in e?e.navigateTo:o(i))("/dashboard/dailyclaim"))},"Daily Claim")):m("",!0),l("p",{class:"link",onClick:a[18]||(a[18]=t=>("navigateTo"in e?e.navigateTo:o(i))("/dashboard/mint"))},"NFT Mint"),o(n).nominationCountSlot?(d(),r("p",{key:1,class:"link",onClick:a[19]||(a[19]=t=>("navigateTo"in e?e.navigateTo:o(i))("/dashboard/nominate"))},"Nomintation")):m("",!0),l("div",ne,[o(v)?(d(),r("button",{key:0,class:"rounded-full px-[30px] py-[10px] text-[18px] font-semibold text-[#7C58F2] hover:text-white bg-white hover:bg-[#7C58F2] border-[#7C58F2] border-[1px]",onClick:a[20]||(a[20]=()=>k())},"Logout")):(d(),r("button",{key:1,class:"rounded-full px-[30px] py-[10px] text-[18px] font-semibold text-[#7C58F2] hover:text-white bg-white hover:bg-[#7C58F2] border-[#7C58F2] border-[1px]",onClick:a[21]||(a[21]=()=>f())},"Dashboard"))])])]))}},ve=H(oe,[["__scopeId","data-v-0010dd5f"]]);export{ve as _};
