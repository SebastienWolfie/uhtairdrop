import{_ as R}from"./CohZIaU4.js";import{_ as C,d as L,a as A,u as P}from"./BqACKYKw.js";import{r as S}from"./CXTV7wvo.js";import{_ as T}from"./B0PwvC0I.js";import{_ as y}from"./DlAUqK2U.js";import{r as k,o as D,P as H,c as b,b as o,d as a,k as g,e as s,S as B,T as E,u as d,j as _,O as I,R as z,m as F,q as M}from"./BLqpxtBP.js";import"./CigPq3WD.js";import"./N-IBRvSD.js";import"./rx5cLQAs.js";async function N(){return new Promise(async(l,n)=>{const t=C(A,"uht_leaderboard"),p=await L(t);let r=[];p.forEach(m=>{r.push(m.data())}),l(r)})}const h=l=>(F("data-v-eae0a7d7"),l=l(),M(),l),U={class:"body"},V={class:"container"},j=h(()=>s("header",null,[s("div",{class:"uht-mark"},[s("img",{src:T,alt:"Leaderboard Logo",onerror:"this.src='https://dummyimage.com/96x96/6a44ff/ffffff&text=UHT'"}),s("div",null,[s("div",{class:"brand-title"},"Leaderboard"),s("span",{class:"badge"},[s("small",null,"Top Referrers â€¢ Earn Points â€¢ Win Rewards")])])])],-1)),q={class:"leaderboard"},W=h(()=>s("h1",null,"Top 50 Health Achievers ðŸŽ¯",-1)),$={class:"rank"},O={key:0,class:"medal gold"},Y={key:1,class:"medal silver"},G={key:2,class:"medal bronze"},J={key:3},K={class:"user"},Q={class:"username"},X={class:"points"},Z={key:0,class:"your-rank"},ss=h(()=>s("h2",null,"Your Position",-1)),es={class:"your-card"},ts={class:"rank"},os={class:"user"},as={class:"points"},ns=h(()=>s("footer",null," Â© 2025 UHT â€¢ Universal Health Token â€” Compete & Earn Rewards. ",-1)),rs={__name:"index",setup(l){const n=P(),t=k([]),{referralPoints:p}=S();D(async()=>{t.value=await N()||[],t.value.length>50&&(t.value=t.value.slice(0,50))}),H(()=>n.value.points,()=>{console.log("leaderboard",r.value)});const r=b(()=>t.value.sort((e,u)=>u.points-e.points));k(null);function m(e){return e?e.slice(0,6)+"..."+e.slice(-4):""}function w(e){return e===0?"first":e===1?"second":e===2?"third":""}const x=b(()=>{var c,v;const e=((c=r.value[0])==null?void 0:c.points)||0;(v=r.value[r.value.length])!=null&&v.points;const u=384,f=Math.min((n.value.points+p.value)/e,1),i=Math.round(u-(u-51)*f);return console.log("simulatedRank",i),i});return(e,u)=>{const f=R;return o(),a("div",U,[g(f,{class:"md:mx-[10%] mx-[2%] sticky top-[10px] z-50"}),s("div",V,[j,s("section",q,[W,s("ul",null,[(o(!0),a(B,null,E(d(r),(i,c)=>(o(),a("li",{key:i.walletAddress,class:z(w(c))},[s("div",$,[c===0?(o(),a("span",O,"ðŸ¥‡")):c===1?(o(),a("span",Y,"ðŸ¥ˆ")):c===2?(o(),a("span",G,"ðŸ¥‰")):(o(),a("span",J,_(c+1),1))]),s("div",K,[s("span",Q,_(i.username||m(i.walletAddress)),1)]),s("div",X,_(i.points)+" pts",1)],2))),128))])]),d(n).walletAddress.toLowerCase()!="0xb2e85090cBb09C9F508D39Db55f996F364281c62".toLowerCase()?(o(),a("section",Z,[ss,s("div",es,[s("div",ts,_(d(x)||"â€”"),1),s("div",os,_(d(n).username||m(d(n).walletAddress)),1),s("div",as,_(d(n).points+d(p)||0)+" pts",1)])])):I("",!0),ns])])}}},cs=y(rs,[["__scopeId","data-v-eae0a7d7"]]),ls={};function is(l,n){const t=cs;return o(),a("div",null,[g(t)])}const bs=y(ls,[["render",is]]);export{bs as default};
